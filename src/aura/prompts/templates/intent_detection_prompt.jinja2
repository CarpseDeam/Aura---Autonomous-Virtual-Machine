You are analyzing a user's message to determine their intent.

User's latest message: {{ user_text }}

Recent conversation:
{{ conversation_history }}

Classify the user's intent as ONE of:
- CASUAL_CHAT: Greeting, chitchat, expressing feelings, casual conversation
- SEEKING_ADVICE: Asking for opinions, recommendations, evaluating options, seeking guidance
- BRAINSTORM: Exploring approaches together, discussing trade-offs, collaborative problem-solving
- BUILD_VAGUE: Wants you to build/modify code but request is ambiguous or lacks details
- BUILD_CLEAR: Clear, specific instruction to build/modify code with sufficient details

CRITICAL PRIORITIZATION RULES:
1. If the message contains advice-seeking phrases ("what do you think", "not sure", "should I", "recommend", "your opinion", "what would you", "which is better", "evaluate"), classify as SEEKING_ADVICE even if they mention building or creating something.
2. If the message is exploring options or comparing approaches ("vs", "or", "compared to"), classify as SEEKING_ADVICE or BRAINSTORM.
3. Only classify as BUILD if the request is direct and actionable without needing your opinion first.

Examples:
"Hey what's up?" -> CASUAL_CHAT
"Should I use Redis or Memcached?" -> SEEKING_ADVICE
"I need to build auth but not sure about the approach. What do you think?" -> SEEKING_ADVICE
"I'm thinking about using JWT for auth, what do you recommend?" -> SEEKING_ADVICE
"How should we handle user sessions?" -> BRAINSTORM
"Redis vs Memcached for caching?" -> SEEKING_ADVICE
"Add payments" -> BUILD_VAGUE
"Add GET /health endpoint returning {status: 'ok'}" -> BUILD_CLEAR
"Write a Python function to validate emails with regex" -> BUILD_CLEAR
"Create a FastAPI endpoint for user login" -> BUILD_CLEAR

Return ONLY the intent name (e.g., SEEKING_ADVICE).
