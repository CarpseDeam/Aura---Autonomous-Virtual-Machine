Task: {{ request }}
Project: {{ project_name or "Unknown" }}
Task ID: {{ task_id }}
Generated: {{ generated_at }}

## Mission Brief
{{ mission_summary }}

## Before You Touch Code
1. Open the freshly written `AGENTS.md`; it is the authoritative specification for this task.
2. Follow the Reality-First Code Generation Protocol:
   - `LIST_FILES` for every directory you expect to read or modify.
   - `READ_FILE` each module you plan to import or edit.
   - `READ_FILE` data contracts (DTOs, schemas, Pydantic models) to mirror names, optionality, and types.
   - `READ_FILE` constructors and call sites to confirm parameter ordering and dependencies.
3. Only begin editing after all four phases are complete and noted in your working log. Skipping a phase is a protocol violation.

## Workspace Snapshot
{% if project_files %}
- Existing files ({{ project_files|length }}):
{% for file_path in project_files %}
  - {{ file_path }}
{% endfor %}
{% else %}
- No existing files detected in the project directory. Confirm the expected structure with Aura before creating new ones.
{% endif %}

## Planned Deliverables
{% for file in planned_files %}
### {{ file.file_path }}
- Purpose: {{ file.description or "No description provided." }}
{% if file.methods %}
- Methods to provide:
{% for method in file.methods %}
  - {{ method }}
{% endfor %}
{% endif %}
{% if file.classes %}
- Classes to provide:
{% for cls in file.classes %}
  - {{ cls }}
{% endfor %}
{% endif %}
{% if file.extra %}
- Additional notes:
{% for note in file.extra %}
  - {{ note }}
{% endfor %}
{% endif %}
{% if not file.methods and not file.classes and not file.extra %}
- No further detail available—confirm specifics with Aura before implementing.
{% endif %}
{% endfor %}
{% if not planned_files %}
- No explicit files were outlined. Pause and sync with Aura to co-define the deliverable before writing code.
{% endif %}

## Collaboration Norms
- Keep scope proportional to the request. Reuse existing patterns; introduce new abstractions only when the blueprint demands them.
- Narrate major checkpoints in the terminal so Aura can monitor and persist project memory.
- Stage work iteratively: implement a focused change set, self-review, then announce completion.

## Quality Expectations
- Ship production-ready results that match project conventions and type-hinting norms.
- Add or update tests only when the blueprint or change warrants them; prioritize pragmatic coverage over boilerplate.
- Leave files cleaner than you found them—follow linting/formatting conventions already present in the repo.

## Handoff Completion
1. Confirm all Reality-First steps were executed.
2. Apply the changes directly to the workspace.
3. Report status and next steps via terminal output so Aura can integrate the results.

Aura is monitoring for filesystem changes and will capture the outcome in project memory.
